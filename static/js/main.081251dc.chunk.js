(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{202:function(e,a,t){e.exports=t(371)},207:function(e,a,t){},208:function(e,a,t){},217:function(e,a,t){},345:function(e,a,t){},351:function(e,a,t){},352:function(e,a,t){},353:function(e,a,t){},354:function(e,a,t){},355:function(e,a,t){},359:function(e,a,t){},371:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(13),l=t.n(r);t(207),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=t(35),c=t(36),m=t(38),i=t(37),u=t(39),d=(t(208),t(379));var p=function(e){return o.a.createElement(d.a,{bg:"dark",className:"navbar__mainContainer"},o.a.createElement("div",null,"ROOM BOOKING APP"),o.a.createElement("button",{type:"button",className:"btn btn-outline-light",onClick:function(){return e.refreshTrueHadler()}},"REFRESH"))},h=t(9),g=t(45),b=t(46),E=t.n(b),f=t(90),N=t(377),k=(t(217),function(e){return o.a.createElement(N.a,{show:e.showModal,onHide:e.onClose,centered:!0,size:e.size},o.a.createElement(N.a.Header,{closeButton:!0,className:"modalTitle modal-header"},e.modalTitle),o.a.createElement(N.a.Body,{className:"modal__body"},e.children))}),v=t(14),_=t.n(v),y=t(381),C=t(376),O=t(26),w=t.n(O),B=(t(345),function(e){var a=e.fill;return o.a.createElement("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:e.width,height:e.height,viewBox:"0 0 494.239 494.238",style:{enableBackground:"new 0 0 494.239 494.238"}},o.a.createElement("g",null,o.a.createElement("path",{fill:a,d:"M199.725,0v36.025H85.211v421.66l114.514,0.094v36.459l209.085-37.555l0.216-418.867L199.725,0z M234.404,230.574\r c7.022,0,12.715,7.408,12.715,16.545c0,9.139-5.692,16.545-12.715,16.545s-12.715-7.406-12.715-16.545\r C221.688,237.982,227.382,230.574,234.404,230.574z M119.211,423.713V70.025h80.514v353.753L119.211,423.713z"})),o.a.createElement("g",null),o.a.createElement("g",null),o.a.createElement("g",null),o.a.createElement("g",null),o.a.createElement("g",null),o.a.createElement("g",null),o.a.createElement("g",null),o.a.createElement("g",null),o.a.createElement("g",null),o.a.createElement("g",null),o.a.createElement("g",null),o.a.createElement("g",null),o.a.createElement("g",null),o.a.createElement("g",null),o.a.createElement("g",null))}),I=t(378),D=t(199),S=t(380),F=t(111),R=(t(350),t(351),function(e){var a=o.a.createElement(o.a.Fragment,null,o.a.createElement(I.a.Row,null,o.a.createElement(I.a.Group,{as:D.a,md:"5",controlId:"firstName",className:"form__group display-flex"},o.a.createElement("div",null,o.a.createElement(I.a.Control,{title:"First Name",type:"text",placeholder:"First Name",value:e.hotelBookingForm.firstName,name:"firstName",onChange:e.onChanged,disabled:!e.isEdit&&e.disable,className:"form__input valueCapitalize",required:!0}),o.a.createElement(I.a.Label,{className:"form__label"},"First Name")),o.a.createElement("span",{className:"required"},"*")),o.a.createElement(I.a.Group,{as:D.a,md:"5",controlId:"lastName",className:"form__group display-flex"},o.a.createElement("div",null,o.a.createElement(I.a.Control,{title:"Last Name",type:"text",placeholder:"Last Name",value:e.hotelBookingForm.lastName,name:"lastName",className:"form__input valueCapitalize",onChange:e.onChanged,disabled:!e.isEdit&&e.disable,required:!0}),o.a.createElement(I.a.Label,{className:"form__label"},"Last Name")),o.a.createElement("span",{className:"required"},"*"))),o.a.createElement(I.a.Row,null,o.a.createElement(I.a.Group,{as:D.a,md:"10",controlId:"address",className:"form__group display-flex"},o.a.createElement("div",null,o.a.createElement(I.a.Control,{title:"Address",as:"textarea",rows:"1",placeholder:"Address",value:e.hotelBookingForm.address,name:"address",onChange:e.onChanged,disabled:!e.isEdit&&e.disable,className:"form__input",required:!0}),o.a.createElement(I.a.Label,{className:"form__label"},"Address")),o.a.createElement("span",{className:"required"},"*"))),o.a.createElement(I.a.Row,null,o.a.createElement(I.a.Group,{as:D.a,md:"5",className:"form__group display-flex"},o.a.createElement("div",null,o.a.createElement(F.a,{id:"checkIn",title:"Check In",selected:e.hotelBookingForm.checkIn,onSelect:function(a){return e.onChanged({event:a,name:"checkIn",isDate:!0})},dateFormat:"MMMM d, yyyy",placeholderText:"Check In",minDate:new Date,key:"checkIn",className:"form__input form-control",disabled:!e.isEdit&&e.disable||e.checkedIn,required:!0}),o.a.createElement(I.a.Label,{className:"form__label"},"Check In")),o.a.createElement("span",{className:"required"},"*")),o.a.createElement(I.a.Group,{as:D.a,md:"5",controlId:"checkOut",className:"form__group display-flex"},o.a.createElement("div",null,o.a.createElement(F.a,{title:"Check Out",selected:e.hotelBookingForm.checkOut,onSelect:function(a){return e.onChanged({event:a,name:"checkOut",isDate:!0})},dateFormat:"MMMM d, yyyy",placeholderText:"Check Out",minDate:e.hotelBookingForm.checkIn,key:"checkOut",className:"form-control form__input",disabled:!e.isEdit&&e.disable,required:!0}),o.a.createElement(I.a.Label,{className:"form__label"},"CheckOut")),o.a.createElement("span",{className:"required"},"*"))),o.a.createElement(I.a.Row,null,o.a.createElement(I.a.Group,{as:D.a,md:"3",controlId:"adults",className:"form__group display-flex"},o.a.createElement("div",null,o.a.createElement(I.a.Control,{title:"Adults",type:"number",placeholder:"Adults",value:e.hotelBookingForm.adults,name:"adults",onChange:e.onChanged,disabled:!e.isEdit&&e.disable,min:"1",className:"form__input",required:!0}),o.a.createElement(I.a.Label,{className:"form__label"},"Adults")),o.a.createElement("span",{className:"required"},"*")),o.a.createElement(I.a.Group,{as:D.a,md:"2",controlId:"children",className:"form__group display-flex"},o.a.createElement("div",null,o.a.createElement(I.a.Control,{title:"Children",type:"number",placeholder:"Children",value:e.hotelBookingForm.children,name:"children",onChange:e.onChanged,disabled:!e.isEdit&&e.disable,min:"0",className:"form__input",required:!0}),o.a.createElement(I.a.Label,{className:"form__label"},"Children")),o.a.createElement("span",{className:"required"},"*")),o.a.createElement(I.a.Group,{as:D.a,md:"5",controlId:"contactNumber",className:"form__group display-flex"},o.a.createElement("div",null,o.a.createElement(I.a.Control,{title:"Contact Number",type:"number",placeholder:"Contact Number",value:e.hotelBookingForm.contactNumber,name:"contactNumber",onChange:e.onChanged,disabled:!e.isEdit&&e.disable,className:"form__input",required:!0}),o.a.createElement(I.a.Label,{className:"form__label"},"Contact Number")),o.a.createElement("span",{className:"required"},"*"))),o.a.createElement(I.a.Row,null,o.a.createElement(I.a.Group,{as:D.a,md:"5",controlId:"amount",className:"form__group display-flex"},o.a.createElement("div",null,o.a.createElement(I.a.Control,{title:"Room Charges",type:"number",placeholder:"Room Charges",value:e.hotelBookingForm.amount,name:"amount",onChange:e.onChanged,disabled:!e.isEdit&&e.disable,min:"1",className:"form__input",required:!0}),o.a.createElement(I.a.Label,{className:"form__label"},"Room Charges")),o.a.createElement("span",{className:"required"},"*")),o.a.createElement(I.a.Group,{as:D.a,md:"5",controlId:"advance",className:"form__group display-flex"},o.a.createElement("div",null,o.a.createElement(I.a.Control,{title:"Advance",type:"number",placeholder:"Advance",value:e.hotelBookingForm.advance,name:"advance",onChange:e.onChanged,disabled:!e.isEdit&&e.disable,min:"0",className:"form__input",required:!0}),o.a.createElement(I.a.Label,{className:"form__label"},"Advance")),o.a.createElement("span",{className:"required"},"*")))),t=o.a.createElement("div",{className:"add-room-form"},e.hotelBookingForm.rooms.map(function(a,t){return o.a.createElement(I.a.Row,{key:t},o.a.createElement(I.a.Group,{as:D.a,md:"4",controlId:"roomType",className:"form__group display-flex"},o.a.createElement(I.a.Control,{as:"select",title:"Room Type",value:e.hotelBookingForm.rooms[t].roomType,name:"roomType",onChange:function(a){return e.onRoomChanged(a,"roomType",t)},disabled:!e.isEdit&&e.disable,className:"form__input",required:!0},o.a.createElement("option",{value:"",hidden:!0},"Room Type"),e.roomTypes.map(function(e,a){return o.a.createElement("option",{key:"roomType".concat(a)},e)})),o.a.createElement("span",{className:"required"},"*")),o.a.createElement(I.a.Group,{as:D.a,md:"4",controlId:"roomNumber",className:"form__group display-flex"},o.a.createElement(I.a.Control,{as:"select",title:"Room No",value:e.hotelBookingForm.rooms[t].roomNumber,name:"roomNumber",onChange:function(a){return e.onRoomChanged(a,"roomNumber",t)},disabled:!e.isEdit&&e.disable,className:"form__input",required:!0},o.a.createElement("option",{value:"",hidden:!0},"Room No  ",a.roomNumber),e.availableRooms.map(function(e,t){return e.roomType===a.roomType?o.a.createElement("option",{key:"roomNo".concat(t)},e.roomNumber):null})),o.a.createElement("span",{className:"required"},"*")),0===t?o.a.createElement(I.a.Group,{as:D.a,md:"2",className:"icon"},o.a.createElement(S.a,{variant:"outline-primary",className:"btn-no-border btn-no-border--primary addIcon",type:"button",onClick:e.addRoom,disabled:!e.isEdit&&e.disable,title:"Add Room"},o.a.createElement("i",{className:"fa fa-plus pointerCursor icon-medium"}))):o.a.createElement(I.a.Group,{as:D.a,md:"2",className:"icon"},o.a.createElement(S.a,{variant:"outline-danger",className:"btn-no-border btn-no-border--danger deleteIcon",type:"button",disabled:!e.isEdit&&e.disable,title:"Delete",onClick:function(){return e.deleteRoom(t)}},o.a.createElement("i",{className:"fa fa-trash-o pointerCursor icon-medium"}))))})),n=o.a.createElement(I.a,{noValidate:!0,validated:e.validated,onSubmit:e.onBooked,className:"form"},o.a.createElement("div",{className:"form__container display-flex"},o.a.createElement("div",{className:"booking-details-form"},a),o.a.createElement("div",{className:"separator"}),0===e.hotelBookingForm.rooms.length?o.a.createElement("div",{className:"room-details-form"},o.a.createElement("h4",null,"Choose Room to Book"),o.a.createElement(B,{width:"150px",height:"100px",fill:"#ced4da",className:"svg-icon"})):t),o.a.createElement(N.a.Footer,{className:"modal-footer"},o.a.createElement(S.a,{variant:"outline-secondary",onClick:e.onClose},"Close"),o.a.createElement(S.a,{variant:"primary",type:"submit",className:"btn-submit"},"Submit")));return o.a.createElement(o.a.Fragment,null,n)}),x=(t(352),function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(o)))).state={payment:{amount:0,advance:0,balance:0,misc:0,payment:{withTax:!1,taxPercent:0}},cardDisable:!0,cashDisable:!0,walletDisable:!0},t.getPayment=function(){var e={cashPayment:t.state.cashDisable?0:Number(document.getElementById("cash_input").value),cardPayment:t.state.cardDisable?0:Number(document.getElementById("card_input").value),walletPayment:t.state.walletDisable?0:Number(document.getElementById("wallet_input").value),due:0};t.checkPayment(e)},t.checkPayment=function(e){var a=e.cashPayment+e.cardPayment+e.walletPayment;a>=t.state.payment.balance&&a<=t.state.payment.balance+100?(e.due=a-t.state.payment.balance,t.props.generateReport(Object(h.a)({},t.state,{payment:Object(h.a)({},t.state.payment,{payment:Object(h.a)({},t.state.payment.payment,{payment:e})})}))):alert("Not allowed to proceed")},t.restoreAmount=function(){t.setState(Object(h.a)({},t.state,{payment:Object(h.a)({},t.state.payment,{amount:Number(t.props.booking.amount),advance:Number(t.props.booking.advance),balance:Number(t.props.booking.amount)+t.state.payment.misc-Number(t.props.booking.advance),payment:Object(h.a)({},t.state.payment.payment,{withTax:!1})})}))},t.taxCalculation=function(){var e,a;t.state.payment.amount>0&&t.state.payment.amount<=2e3?e=3:t.state.payment.amount>2e3&&t.state.payment.amount<=5e3?e=10:t.state.payment.amount>5e3&&(e=18),a=t.state.payment.amount+t.state.payment.amount*e/100,t.setState(Object(h.a)({},t.state,{payment:Object(h.a)({},t.state.payment,{amount:a,balance:a+t.state.payment.misc-t.state.payment.advance,payment:Object(h.a)({},t.state.payment.payment,{taxPercent:e,withTax:!0})})}))},t.onChange=function(e){"card"===e.target.id?(t.setState({cardDisable:!t.state.cardDisable}),document.getElementById("card_input").value=null):"cash"===e.target.id?(t.setState({cashDisable:!t.state.cashDisable}),document.getElementById("cash_input").value=null):"wallet"===e.target.id?(t.setState({walletDisable:!t.state.walletDisable}),document.getElementById("wallet_input").value=null):"withTax"===e.target.id?t.taxCalculation():"withoutTax"===e.target.id&&t.restoreAmount()},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({payment:Object(h.a)({},this.state.payment,{actualAmount:Number(this.props.booking.amount),amount:Number(this.props.booking.amount),advance:Number(this.props.booking.advance),balance:Number(this.props.booking.amount)+this.state.payment.misc-Number(this.props.booking.advance)})})}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"taxInfo"},o.a.createElement("div",{className:"taxInfo__container"},o.a.createElement("div",{className:"taxInfo__radio-group"},o.a.createElement("input",{type:"radio",className:"taxInfo__radio-input",id:"withTax",name:"taxInfo",onChange:function(a){return e.onChange(a)}}),o.a.createElement("label",{for:"withTax",className:"taxInfo__radio-label"},o.a.createElement("span",{className:"taxInfo__radio-button"}),"With Tax")),o.a.createElement("div",{className:"taxInfo__radio-group"},o.a.createElement("input",{type:"radio",className:"taxInfo__radio-input",id:"withoutTax",name:"taxInfo",onChange:function(a){return e.onChange(a)}}),o.a.createElement("label",{for:"withoutTax",className:"taxInfo__radio-label"},o.a.createElement("span",{className:"taxInfo__radio-button"}),"Without Tax")))),o.a.createElement("div",{className:"bookingDetails__container"},o.a.createElement("div",{className:"bookingDetails__info"},o.a.createElement("div",{className:"bookingDetails__row"},o.a.createElement("span",{className:"bookingDetails__left"},"Room Charges"),o.a.createElement("span",{className:"bookingDetails__colon"},":"),o.a.createElement("span",{className:"bookingDetails__right"},this.state.payment.amount)),o.a.createElement("div",{className:"bookingDetails__row"},o.a.createElement("span",{className:"bookingDetails__left"},"Advance"),o.a.createElement("span",{className:"bookingDetails__colon"},":"),o.a.createElement("span",{className:"bookingDetails__right"},this.state.payment.advance)),o.a.createElement("div",{className:"bookingDetails__row"},o.a.createElement("span",{className:"bookingDetails__left"},"Other Charges"),o.a.createElement("span",{className:"bookingDetails__colon"},":"),o.a.createElement("span",{className:"bookingDetails__right"},this.state.payment.misc)),o.a.createElement("div",{className:"bookingDetails__row"},o.a.createElement("span",{className:"bookingDetails__left"},"Balance"),o.a.createElement("span",{className:"bookingDetails__colon"},":"),o.a.createElement("span",{className:"bookingDetails__right"},this.state.payment.balance))),o.a.createElement("div",{className:"bookingDetails__hr"}),o.a.createElement("div",{className:"bookingDetails__payment"},o.a.createElement("div",{className:"bookingDetails__row"},o.a.createElement("div",null,o.a.createElement("input",{type:"checkbox",id:"cash",className:"bookingDetails__input",onChange:function(a){return e.onChange(a)}}),o.a.createElement("label",{for:"cash",className:"bookingDetails__label"},o.a.createElement("span",{className:"bookingDetails__checkbox"}),o.a.createElement("span",null,"Cash Payment"))),o.a.createElement(I.a.Control,{type:"number",id:"cash_input",placeholder:"Amount",className:"bookingDetails__formInput",disabled:this.state.cashDisable})),o.a.createElement("div",{className:"bookingDetails__row"},o.a.createElement("div",null,o.a.createElement("input",{type:"checkbox",id:"card",className:"bookingDetails__input",onChange:function(a){return e.onChange(a)}}),o.a.createElement("label",{for:"card",className:"bookingDetails__label"},o.a.createElement("span",{className:"bookingDetails__checkbox"}),o.a.createElement("span",null,"Card Payment"))),o.a.createElement(I.a.Control,{type:"number",id:"card_input",placeholder:"Amount",className:"bookingDetails__formInput",disabled:this.state.cardDisable})),o.a.createElement("div",{className:"bookingDetails__row"},o.a.createElement("div",null,o.a.createElement("input",{type:"checkbox",id:"wallet",className:"bookingDetails__input",onChange:function(a){return e.onChange(a)}}),o.a.createElement("label",{for:"wallet",className:"bookingDetails__label"},o.a.createElement("span",{className:"bookingDetails__checkbox"}),o.a.createElement("span",null,"Wallet Payment"))),o.a.createElement(I.a.Control,{type:"number",id:"wallet_input",placeholder:"Amount",className:"bookingDetails__formInput",disabled:this.state.walletDisable})))),o.a.createElement(N.a.Footer,null,o.a.createElement(S.a,{variant:"primary",onClick:function(){return e.getPayment()}},"Generate Report")))}}]),a}(n.Component)),M=(t(353),function(e){return o.a.createElement("nav",{className:"navigation"},o.a.createElement("ul",{className:"navigation__list"},o.a.createElement("li",{className:"navigation__item",title:"Edit",onClick:e.edit},o.a.createElement("span",{className:"icon_container"},o.a.createElement("i",{className:"fa fa-pencil icon"})),o.a.createElement("a",{href:"#",className:"navigation__link"},"Edit")),e.checkedIn?o.a.createElement("li",{className:"navigation__item",title:"Check Out",onClick:e.checkOut},o.a.createElement("span",{className:"icon_container"},o.a.createElement(B,{width:"20px",height:"20px",fill:"black"})),o.a.createElement("a",{href:"#",className:"navigation__link"},"Check Out")):o.a.createElement(o.a.Fragment,null,o.a.createElement("li",{className:"navigation__item",title:"Cancel",onClick:e.toggleCancelAlert},o.a.createElement("span",{className:"icon_container"},o.a.createElement("i",{className:"fa fa-close icon"})),o.a.createElement("a",{href:"#",className:"navigation__link"},"Cancel Booking")),o.a.createElement("li",{className:"navigation__item",title:"Check In",onClick:e.checkIn},o.a.createElement("span",{className:"icon_container"},o.a.createElement("i",{className:"fa fa-bed icon"})),o.a.createElement("a",{href:"#",className:"navigation__link"},"Check In")))))}),j=(t(354),function(e){return o.a.createElement(o.a.Fragment,null,e.showCancelAlert?o.a.createElement("div",{className:"alert-box",id:"alert-box"},o.a.createElement("div",{className:"alert-box__content"},o.a.createElement("span",{className:"alert-icon__box"},o.a.createElement("i",{className:"fa fa-times-circle pointerCursor alert-icon"})),o.a.createElement("div",{className:"alert-box__message"},o.a.createElement("p",null,"Are you sure you want to cancel the Booking")),o.a.createElement("div",{className:"alert-box__button"},o.a.createElement(S.a,{variant:"outline-secondary",className:"alert-box-close-btn alert-box-btn",onClick:e.toggleCancelAlert},"No, I don't want to cancel."),o.a.createElement(S.a,{variant:"danger",type:"submit",className:"alert-box-confirm-btn alert-box-btn",onClick:e.cancel},"Yes, I want to cancel it.")))):null)}),A=(t(355),function(e){var a=e.booking,t=e.reportHandler;return console.log("I am Here ",a),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"report__container"},o.a.createElement("div",{className:"report__section"},o.a.createElement("div",{className:"report-row"},o.a.createElement("span",{className:"report-key"},"Booking Id"),o.a.createElement("span",{className:"report-value"},a.bookingId)),o.a.createElement("div",{className:"report-row"},o.a.createElement("span",{className:"report-key"},"Booking Date"),o.a.createElement("span",{className:"report-value"})),o.a.createElement("div",{className:"report-row"},o.a.createElement("span",{className:"report-key"},"Hotel Name"),o.a.createElement("span",{className:"report-value"},"Delight Hotel"))),o.a.createElement("div",{className:"report__section"},o.a.createElement("div",{className:"report-row"},o.a.createElement("span",{className:"report-key"},"Name"),o.a.createElement("span",{className:"report-value"},"Mr. ",a.hotelBookingForm.firstName," ",a.hotelBookingForm.lastName)),o.a.createElement("div",{className:"report-row"},o.a.createElement("span",{className:"report-key"},"Contact Number"),o.a.createElement("span",{className:"report-value"},a.hotelBookingForm.contactNumber))),o.a.createElement("div",{className:"report__section"},o.a.createElement("div",{className:"report-row"},o.a.createElement("span",{className:"report-key"},"Check In"),o.a.createElement("span",{className:"report-value"},_.a.format(a.hotelBookingForm.checkIn,"MM/DD/YYYY"))),o.a.createElement("div",{className:"report-row"},o.a.createElement("span",{className:"report-key"},"Check In Time"),o.a.createElement("span",{className:"report-value"})),o.a.createElement("div",{className:"report-row"},o.a.createElement("span",{className:"report-key"},"Check Out"),o.a.createElement("span",{className:"report-value"},_.a.format(a.hotelBookingForm.checkOut,"MM/DD/YYYY"))),o.a.createElement("div",{className:"report-row"},o.a.createElement("span",{className:"report-key"},"Check Out Time"),o.a.createElement("span",{className:"report-value"})),o.a.createElement("div",{className:"report-row"},o.a.createElement("span",{className:"report-key"},"No of Rooms"),o.a.createElement("span",{className:"report-value"})),o.a.createElement("div",{className:"report-row"},o.a.createElement("span",{className:"report-key"},"No of Guests"),o.a.createElement("span",{className:"report-value"})),o.a.createElement("div",{className:"report-row"},o.a.createElement("span",{className:"report-key"},"No of Nights"),o.a.createElement("span",{className:"report-value"}))),o.a.createElement("div",{className:"report__section"},o.a.createElement("div",{className:"report-row"},o.a.createElement("span",{className:"report-key"},"Amount"),o.a.createElement("span",{className:"report-value"},a.payment.actualAmount)),o.a.createElement("div",{className:"report-row"},o.a.createElement("span",{className:"report-key"},"Tax"),o.a.createElement("span",{className:"report-value"},a.payment.payment.taxPercent+"%")),o.a.createElement("div",{className:"report-row"},o.a.createElement("span",{className:"report-key"},"Total"),o.a.createElement("span",{className:"report-value"},a.payment.amount)),o.a.createElement("div",{className:"report-row"},o.a.createElement("span",{className:"report-key"},"Advance"),o.a.createElement("span",{className:"report-value"},a.payment.advance)),o.a.createElement("div",{className:"report-row"},o.a.createElement("span",{className:"report-key"},"Balance"),o.a.createElement("span",{className:"report-value"},a.payment.balance))),o.a.createElement("div",{className:"report__section"},0!==a.payment.payment.payment.cashPayment?o.a.createElement("div",{className:"report-row"},o.a.createElement("span",{className:"report-key"},"Paid By Cash"),o.a.createElement("span",{className:"report-value"},a.payment.payment.payment.cashPayment)):null,0!==a.payment.payment.payment.cardPayment?o.a.createElement("div",{className:"report-row"},o.a.createElement("span",{className:"report-key"},"Paid By Card"),o.a.createElement("span",{className:"report-value"},a.payment.payment.payment.cardPayment)):null,0!==a.payment.payment.payment.walletPayment?o.a.createElement("div",{className:"report-row"},o.a.createElement("span",{className:"report-key"},"Paid By Wallet"),o.a.createElement("span",{className:"report-value"},a.payment.payment.payment.walletPayment)):null)),o.a.createElement(N.a.Footer,null,o.a.createElement("div",{className:"report__footerContainer"},o.a.createElement(S.a,{variant:"primary",className:"report__btn"},"Download"),o.a.createElement(S.a,{variant:"primary",className:"report__btn"},"Print"),a.reportGenerated?null:o.a.createElement(S.a,{variant:"primary",className:"report__btn",onClick:function(){return t()}},"Done"))))}),G={SUCCESS:"success",ERROR:"error",WARNING:"warning",INFO:"info"},T={BOOKING_SUCCESS:"Booking done successfully",BOOKING_ERROR:"Oops ! Error occurred",BOOKING_UPDATE_SUCCESS:"Booking updated successfully",BOOKING_CANCEL_SUCCESS:"Booking cancelled successfully",BOOKING_CHECKIN_SUCCESS:"Booking checkIn successfully",BOOKING_CHECKOUT_SUCCESS:"Booking checkOut successfully",WARNING:"warning",INFO:"info"},H=["AC","Non AC","Deluxe","Suite","Dormitory"],P=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(o)))).state={validated:!1,hotelBookingForm:{firstName:"",lastName:"",address:"",checkIn:"",checkOut:"",adults:"",children:0,contactNumber:"",rooms:[],amount:"",advance:""},cancel:!1,checkedIn:!1,checkedOut:!1,reportGenerated:!1,availableRooms:[],formIsValid:!0,isEdit:!1,bookingId:null,personId:null,disable:!1,misc:"",balance:"",status:"",showCancelAlert:!1,payment:{},viewBillDetail:!1},t.inputChangedHandler=function(e){var a=Object(h.a)({},t.state.hotelBookingForm);e.isDate?(a[e.name]=e.event,t.setState({hotelBookingForm:a}),"checkIn"===e.name&&(a.checkOut="",a.rooms=[],t.setState({hotelBookingForm:a})),"checkOut"===e.name&&(a.rooms=[],t.setState({hotelBookingForm:a}),t.getAvailableRooms(t.state.hotelBookingForm.checkIn,e.event))):(a[e.target.name]="firstName"===e.target.name||"lastName"===e.target.name?e.target.value.charAt(0).toUpperCase()+e.target.value.slice(1):e.target.value,t.setState({hotelBookingForm:a}))},t.roomDetailsChangedHandler=function(e,a,n){var o=Object(h.a)({},t.state.hotelBookingForm),r=Object(g.a)(o.rooms);"roomType"===e.target.name&&(r[n]={roomType:e.target.value}),"roomNumber"===e.target.name&&(r[n]=t.state.availableRooms.filter(function(a){return a.roomNumber===e.target.value})[0]),o.rooms=r,t.setState({hotelBookingForm:o})},t.getAvailableRooms=function(e,a){""!==a&&null!==a&&w.a.post("/rooms/available",{checkIn:e,checkOut:a,bookingId:t.state.bookingId}).then(function(e){var a=e.data,n=t.props.rooms.filter(function(e){return t.state.hotelBookingForm.rooms.indexOf(e._id)>=0}),o=Object(h.a)({},t.state.hotelBookingForm);o.rooms=n,a=a.concat(n),t.setState({availableRooms:a,hotelBookingForm:o}),0===t.state.hotelBookingForm.rooms.length&&t.setDefaultRoom()}).catch(function(e){return console.log(e)})},t.setDefaultRoom=function(){var e,a=t.state.availableRooms.filter(function(e){return e._id===t.props.detailsForForm.roomId});e=a.length>0?a[0]:t.state.availableRooms[0];var n=Object(h.a)({},t.state.hotelBookingForm),o=Object(g.a)(n.rooms);o.push(e),n.rooms=o,t.setState({hotelBookingForm:n})},t.addRoom=function(){var e=Object(h.a)({},t.state.hotelBookingForm),a=Object(g.a)(e.rooms);a.push({}),e.rooms=a,t.setState({hotelBookingForm:e})},t.deleteRoom=function(e){var a=Object(h.a)({},t.state.hotelBookingForm),n=Object(g.a)(a.rooms).filter(function(a,t){return t!==e});a.rooms=n,t.setState({hotelBookingForm:a})},t.closeModalHandler=function(){t.setState({validated:!1}),t.clearForm(),t.props.onClose()},t.clearForm=function(){var e=Object(h.a)({},t.state.hotelBookingForm);for(var a in e){var n=Object(h.a)({},e[a]);n="rooms"===a?[]:"",e[a]=n}t.setState({hotelBookingForm:e})},t.hotelBookedHandler=function(e){e.preventDefault();var a=e.currentTarget,n={},o="",r="",l="";if(a.checkValidity()){for(var s in t.state.hotelBookingForm)if("rooms"===s){var c=t.state.hotelBookingForm[s].map(function(e){return e._id});n[s]=c}else n[s]=t.state.hotelBookingForm[s];n.cancel=t.state.cancel,n.checkedIn=t.state.checkedIn,n.checkedOut=t.state.checkedOut,delete n.step,t.state.isEdit&&t.state.disable?(console.log("update"),o="/bookings/update",n._id=t.state.bookingId,r=G.SUCCESS,l=T.BOOKING_UPDATE_SUCCESS):(o="/bookings/insert",r=G.SUCCESS,l=T.BOOKING_SUCCESS),console.log("booking data : ",n),w.a.post(o,n).then(function(e){console.log(e.data),200===e.status&&(t.props.notify(r,l),t.props.handleBookings())}).catch(function(e){t.props.notify(G.ERROR,T.BOOKING_ERROR),console.log(e)}),t.props.onClose()}t.setState({validated:!0})},t.edit=function(){t.setState({isEdit:!0,status:"editBooking"})},t.toggleCancelAlert=function(){t.setState({showCancelAlert:!t.state.showCancelAlert})},t.cancel=function(){t.setState({cancel:!0});var e={cancel:!0,_id:t.state.bookingId};w.a.post("/bookings/update",e).then(function(e){200===e.status&&(t.props.handleBookings(),t.props.notify(G.SUCCESS,T.BOOKING_CANCEL_SUCCESS))}).catch(function(e){t.props.notify(G.ERROR,T.BOOKING_ERROR),console.log(e)}),t.setState({showCancelAlert:!1}),t.props.onClose()},t.checkIn=function(){t.setState({checkedIn:!0});var e={checkedIn:!0,_id:t.state.bookingId};w.a.post("/bookings/update",e).then(function(e){200===e.status&&(t.props.handleBookings(),t.props.notify(G.SUCCESS,T.BOOKING_CHECKIN_SUCCESS))}).catch(function(e){t.props.notify(G.ERROR,T.BOOKING_ERROR),console.log(e)}),t.props.onClose()},t.report=function(){t.setState({reportGenerated:!0});var e={reportGenerated:!0,_id:t.state.bookingId};w.a.post("/bookings/update",e).then(function(e){200===e.status&&(t.props.handleBookings(),t.props.onClose())}).catch(function(e){t.props.notify(G.ERROR,T.BOOKING_ERROR)})},t.checkOut=function(){t.setState({viewBillDetail:!0}),t.props.openBillDetailsModal()},t.generateReport=function(e){t.setState({payment:e.payment});var a={payment:e.payment,checkedOut:!0,_id:t.state.bookingId};w.a.post("/bookings/update",a).then(function(e){200===e.status&&(t.setState({checkedOut:!0}),t.props.notify(G.SUCCESS,T.BOOKING_CHECKOUT_SUCCESS),t.props.openReportGenerateModal())}).catch(function(e){t.props.notify(G.ERROR,T.BOOKING_ERROR),console.log(e)})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.detailsForForm.booking);if("viewBooking"===this.props.status){var e=this.props.detailsForForm.booking,a={firstName:e.firstName,lastName:e.lastName,address:e.address,checkIn:new Date(e.checkIn),checkOut:new Date(e.checkOut),adults:e.adults,children:e.children,contactNumber:e.contactNumber,rooms:e.rooms,amount:e.amount,advance:e.advance};this.setState({hotelBookingForm:a,disable:!0,bookingId:e._id,misc:e.misc,balance:e.balance,cancel:e.cancel,checkedIn:e.checkedIn,checkedOut:e.checkedOut,status:this.props.status,payment:e.payment,reportGenerated:e.reportGenerated}),this.getAvailableRooms(new Date(e.checkIn),new Date(e.checkOut))}else{var t=Object(h.a)({},this.state.hotelBookingForm);t.checkIn=this.props.detailsForForm.date,this.setState({hotelBookingForm:t,status:this.props.status})}}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,""===this.state.hotelBookingForm.checkIn||this.state.viewBillDetail||this.state.checkedOut?o.a.createElement(o.a.Fragment,null,this.state.checkedOut?o.a.createElement(A,{booking:this.state,reportHandler:function(){return e.report()}}):o.a.createElement(x,{booking:this.state.hotelBookingForm,generateReport:this.generateReport})):o.a.createElement("div",null,o.a.createElement(M,{edit:this.edit,cancel:this.cancel,checkIn:this.checkIn,checkOut:this.checkOut,checkedIn:this.state.checkedIn,checkOutDate:this.state.hotelBookingForm.checkOut}),o.a.createElement(R,{hotelBookingForm:this.state.hotelBookingForm,onChanged:function(a){return e.inputChangedHandler(a)},onRoomChanged:function(a,t,n){e.roomDetailsChangedHandler(a,t,n)},roomTypes:H,availableRooms:this.state.availableRooms,addRoom:this.addRoom,deleteRoom:this.deleteRoom,onBooked:function(a){return e.hotelBookedHandler(a)},validated:this.state.validated,onClose:this.props.onClose,isEdit:this.state.isEdit,disable:this.state.disable})),this.state.showCancelAlert?o.a.createElement(j,{cancel:this.cancel,showCancelAlert:this.state.showCancelAlert,toggleCancelAlert:this.toggleCancelAlert}):null)}}]),a}(n.Component),U=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(r)))).state={showModal:!1,items:[],rooms:[],monthObj:{},bookingArray:[],loading:!0,detailsForForm:{},modalTitle:"",modalSize:"lg"},t.getRandomColor=function(){var e=String("#"+Math.random().toString(16).slice(2,8).toUpperCase()).replace(/[^0-9a-f]/gi,"");e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var a,t,n="#";for(t=0;t<3;t++)a=parseInt(e.substr(2*t,2),16),n+=("00"+(a=Math.round(Math.min(Math.max(0,a+-.25*a),255)).toString(16))).substr(a.length);return n},t.componentDidMount=Object(f.a)(E.a.mark(function e(){var a,n,o;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Date,n={monthNumber:_.a.getMonth(a),year:_.a.getYear(a),numberOfDays:_.a.getDaysInMonth(a)},e.t0=t,e.t1=n,e.next=6,t.getRooms();case 6:e.t2=e.sent.data,e.t3={monthObj:e.t1,rooms:e.t2},e.t0.setState.call(e.t0,e.t3),o=new Array(t.state.rooms.length),t.finalArray(o,t.state.monthObj),t.setBookingsForMonth(t.state.monthObj),t.setState({modalTitle:"Booking Details"});case 13:case"end":return e.stop()}},e)})),t.componentDidUpdate=function(){t.props.refresh&&(t.handleBookings(),t.props.refreshFalseHadler())},t.getBookings=function(){var e=Object(f.a)(E.a.mark(function e(a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.post("/bookings/filterByMonth",a);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(a){return e.apply(this,arguments)}}(),t.getRooms=Object(f.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get("/rooms");case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),t.finalArray=function(e,a){for(var n=0;n<e.length;n++)e[n]=new Array(a.numberOfDays).fill({roomNumber:t.state.rooms[n].roomNumber,roomId:t.state.rooms[n]._id}),e[n].unshift({showRoomNumber:t.state.rooms[n].roomNumber});t.setState({items:e})},t.setBookingsForMonth=function(e){t.getBookings(e).then(function(e){200===e.status&&(e.data.forEach(function(e){1===e.months.length?t.setBookingForMonth(e):e.months.length>1&&t.setBookingForMonths(e)}),t.setState({loading:!1}))})},t.setBookingForMonth=function(e){var a=t.getRandomColor(),n=new Date(e.checkIn),o=new Date(e.checkOut);e.rooms.forEach(function(r){t.setBookedRooms(r,n,o,a,e)})},t.setBookingForMonths=function(e){var a,n,o=t.getRandomColor(),r=t.state.monthObj,l=e.months.findIndex(function(e){return e.monthNumber===r.monthNumber});0===l?(a=new Date(e.checkIn),n=new Date("".concat(r.monthNumber+1,"/").concat(r.numberOfDays,"/").concat(r.year))):l===e.months.length-1?(a=new Date("".concat(r.monthNumber+1,"/1/").concat(r.year)),n=new Date(e.checkOut)):(a=new Date("".concat(r.monthNumber+1,"/1/").concat(r.year)),n=new Date("".concat(r.monthNumber+1,"/").concat(r.numberOfDays,"/").concat(r.year))),e.rooms.forEach(function(r){t.setBookedRooms(r,a,n,o,e)})},t.setBookedRooms=function(e,a,n,o,r){var l=t.state.rooms.find(function(a){return a._id===e}),s=Object(g.a)(t.state.items),c=s.find(function(e){return e[0].showRoomNumber===l.roomNumber});_.a.eachDay(a,n).forEach(function(e){var a=_.a.getDate(e);c[a]=Object(h.a)({},c[a],{booking:r,showBooking:!0,name:"".concat(r.firstName," ").concat(r.lastName),color:o})}),t.setState({items:s})},t.showModalHandler=function(e,a){var n=t.state.monthObj;e.date=new Date(n.year,n.monthNumber,a),t.setState({modalSize:e.booking&&e.booking.checkedOut?"md":"lg",detailsForForm:e,showModal:!0}),e.booking&&e.booking.checkedOut?t.openReportGenerateModal():t.returnNull()},t.returnNull=function(){return null},t.closeModalHandler=function(){t.setState({showModal:!1})},t.handleBookings=function(){var e=new Array(t.state.rooms.length);t.finalArray(e,t.state.monthObj),t.setBookingsForMonth(t.state.monthObj),console.log(t.state.detailsForForm.booking)},t.modalStatus=function(){return t.state.detailsForForm.showBooking?"viewBooking":"newBooking"},t.changeMonth=function(e){t.setState({loading:!0});var a=Object(h.a)({},t.state.monthObj),n=_.a.addMonths(new Date(a.year,a.monthNumber),e);a.monthNumber=_.a.getMonth(n),a.numberOfDays=_.a.getDaysInMonth(n),a.year=_.a.getYear(n),t.setState({monthObj:a});var o=new Array(t.state.rooms.length);t.finalArray(o,a),t.setBookingsForMonth(a)},t.getNameOfMonth=function(){return _.a.format(new Date(t.state.monthObj.year,t.state.monthObj.monthNumber),"MMMM").toUpperCase()},t.renderShortName=function(e){var a=e.split(" ");return a[0].charAt(0)+a[1].charAt(0)},t.setClassForCell=function(e){var a=_.a.getDate(new Date),n=_.a.getMonth(new Date);return e<a&&n===t.state.monthObj.monthNumber?"template_subitem noselect pointerCursor disable-cell":"template_subitem noselect pointerCursor"},t.tooltipPlacement=function(e){return 0===e||1===e?"bottom":"top"},t.setClassForNavigatingMonth=function(){return _.a.getMonth(new Date)===t.state.monthObj.monthNumber?"fa fa-chevron-left disableMonthNav":"fa fa-chevron-left pointerCursor"},t.renderOverlay=function(){return t.state.loading?o.a.createElement("div",{className:"template_overlay"},o.a.createElement("div",{className:"template_overlay__container"},o.a.createElement("div",{className:"spinner-border text-light",role:"status"}))):null},t.openBillDetailsModal=function(){t.setState({modalSize:"md",showModal:!0,modalTitle:"Bill Details"})},t.openReportGenerateModal=function(){t.setState({modalSize:"md",showModal:!0,modalTitle:"Report"})},t.renderItems=function(){var e=_.a.getDate(new Date),a=_.a.getMonth(new Date);return t.state.items.map(function(n,r){return o.a.createElement("div",{className:"template_item",key:"item"+r},n.map(function(n,l){return n.showBooking?o.a.createElement(y.a,{placement:t.tooltipPlacement(r),key:"subitem"+l,overlay:o.a.createElement(C.a,{id:"tooltip-".concat(t.tooltipPlacement(r))},n.name," ",n.booking.checkedIn?"- ".concat(n.roomNumber):null)},o.a.createElement("div",{className:t.setClassForCell(l),style:{color:n.color,background:"rgb(240,255,255)",fontWeight:"bold",cursor:"pointer"},onClick:function(){return t.showModalHandler(n,l)}},t.renderShortName(n.name))):n.showRoomNumber?o.a.createElement("div",{className:"template_subitem noselect importantCells",key:"subitem"+l},n.showRoomNumber):l<e&&a===t.state.monthObj.monthNumber?o.a.createElement("div",{key:"subitem"+l,className:"template_subitem noselect disable-cell"}):o.a.createElement("div",{key:"subitem"+l,className:t.setClassForCell(l),onClick:function(){return t.showModalHandler(n,l)}},o.a.createElement("div",{className:"template_subitem_showOnHover"},n.roomNumber))}))})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this,a=[];if(this.state.monthObj.numberOfDays){a=new Array(this.state.monthObj.numberOfDays+1);for(var t=0;t<a.length;t++)a[t]=0!==t?{date:t}:{}}return o.a.createElement("div",{className:"template_container"},this.renderOverlay(),this.state.monthObj.year?o.a.createElement("div",{style:{height:"100%"}},o.a.createElement(d.a,{bg:"light",className:"app__navbar"},o.a.createElement("i",{className:this.setClassForNavigatingMonth(),onClick:function(){return e.changeMonth(-1)}}),o.a.createElement("div",{style:{fontWeight:"bold",fontSize:"18px"}},this.getNameOfMonth()," ",this.state.monthObj.year),o.a.createElement("i",{className:"fa fa-chevron-right pointerCursor",onClick:function(){return e.changeMonth(1)}})),o.a.createElement("div",{className:"template_item noselect"},a.map(function(e){return o.a.createElement("div",{key:"app__".concat(e.date),className:"template_subitem importantCells"},e.date<10?"0"+e.date:e.date)})),o.a.createElement("div",{className:"template_item__container"},this.renderItems()),this.state.showModal?o.a.createElement(k,{modalTitle:this.state.modalTitle,showModal:this.state.showModal,onClose:this.closeModalHandler,size:this.state.modalSize},o.a.createElement(P,{openReportGenerateModal:this.openReportGenerateModal,openBillDetailsModal:this.openBillDetailsModal,detailsForForm:this.state.detailsForForm,handleBookings:this.handleBookings,status:this.modalStatus(),rooms:this.state.rooms,onClose:this.closeModalHandler,notify:function(a,t){return e.props.notify(a,t)}})):null):null)}}]),a}(n.Component),q=(t(359),t(360),t(47)),K=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(o)))).state={refresh:!1},t.refreshTrueHadler=function(){t.setState({refresh:!0})},t.refreshFalseHadler=function(){t.setState({refresh:!1})},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{style:{height:"100%"}},o.a.createElement(q.NotificationContainer,null),o.a.createElement(p,{refreshTrueHadler:this.refreshTrueHadler}),o.a.createElement(U,{notify:function(e,a){return function(e,a){switch(e){case G.SUCCESS:q.NotificationManager.success(a,"",3e3);break;case G.ERROR:q.NotificationManager.error(a,"",3e3);break;case G.WARNING:q.NotificationManager.warning(a,"",3e3);break;case G.INFO:q.NotificationManager.info(a,"",3e3);break;default:q.NotificationManager.info(a,"",3e3)}}(e,a)},refresh:this.state.refresh,refreshFalseHadler:this.refreshFalseHadler}))}}]),a}(n.Component);l.a.render(o.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[202,1,2]]]);
//# sourceMappingURL=main.081251dc.chunk.js.map